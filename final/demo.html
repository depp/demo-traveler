<!doctype html>
<head>
	<title>Star Traveler ~ js1024</title>
	<meta name="author" content="Author"></meta>
	<meta name="description" content="Short description"></meta>
	<meta name="title" content="Title"></meta>
	<meta charset=utf-8>
</head>
<body id=b>
<canvas id=a></canvas>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
#a { position: relative; display: block; }
.play { position: fixed; top: 50%; left: 50%; transform: translateX(-50%)translateY(-50%); font-size: 30px; font-family: arial, sans-serif; background: #f3f4f5; padding: 15px; border: 2px solid #ddd; border-radius: 5px; }
</style>

<script>

// Entry configuration
// ===================

var title = "Star Traveler"; // this will be assigned automatically

// Shim setup and polyfills (do not edit)
// ======================================

// canvas automatically adjusted !
a.width = innerWidth;
a.height = innerHeight;

c = a.getContext("2d"); // no more $type conditional

d = document;
window.AudioContext = window.AudioContext || window.webkitAudioContext;
window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
a.requestPointerLock = a.requestPointerLock || a.mozRequestPointerLock || a.webkitRequestPointerLock;
navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;
if (typeof OscillatorNode !== 'undefined' && OscillatorNode.prototype) {
  OscillatorNode.prototype.start = OscillatorNode.prototype.start || OscillatorNode.prototype.noteOn;
  OscillatorNode.prototype.stop = OscillatorNode.prototype.stop || OscillatorNode.prototype.noteOff;
}

// Add a start button if sound is present in the code
onload = () => {
  var entry_code = entry.innerText;
  var has_sound = false;
  if(entry_code.includes('eval')){
    try {
      eval(entry_code.replace(/eval\(/g, 'throw(').replace(/eval\`/g, 'throw`'));
    }
    catch(e){
      entry_code = e;
    }
  }
  if(entry_code.includes("AudioContext")||entry_code.includes("Oscillator")||entry_code.includes("speak")||entry_code.includes("play")||entry_code.includes("autoplay")){
    b.insertAdjacentHTML("beforeEnd", "<button class='play' onclick='console.log(entry.innerText);eval(entry.innerText);this.remove()'>PLAY</button>");
  }
  else {
    eval(entry.innerText);
  }
};
console.log(
  a, // canvas
  b, // body
  c, // 2D canvas context
  d  // document
);

</script>

<script type=text id=entry>
// Your entry goes here ðŸ‘‡
// =======================
for(_='(a~~,Zo(Y2*X.5W/2V(eU0,T(TTO.2/Ne3,K(l=J()IW)*(H-2G1,)))athtranslate(&&(c.0*d([...99e,t=i(3,,111l,),Y=>,a.height)].flatI(c.save(c.restoreI)=new P2D(	.map(a.widthZe)fillscale(M.randomI(h/4+H1.2-l)+.XATTTh=0;i=Array~).keysI]e);s	"M-0T-10T1-0");n=Z,l)t--?J~+e)V+(-Ht<5)*X*tV,[nZtn():[a];m=[i(5KZ,h,n)([,h]a-Wna+150*iJ5-a/1e3-M.log1p(9**(r-8>.001&&l<1*e/*t/lG6,-9),l*n(sW,Wl*9(si(6TU	`MTL${nO10)[e,a]).join("L")}L1K`tJ2-aV5-r/5)>.02T46,9)G0G0T-9)NNl-70T20+l*l*803*r,145,YX12YrG,346,534,223))U.7*r-Y889,346X222,815,933112,334)globalAlpha=d(3W+G80*r,G52,-1U;o=Z...l)~*=a>T[]=l.slice~e=l.pop(e]aa==+a?""+a]a3Xa-32):aStyle=`rgb(${tl(1-a%1)*e[l]+a%1*t[l])})`,t);d=1/(1+3**U*~-r;f=eRectOVV/,/h=h||eGKr=U-h)/3e3%1TrequestAnimationFrame(fmaa(r>7&&(Yr-7,145beginP(arcON(10-rT7I;fI';G=/[^ -FLMPRS[-}]/.exec(_);)with(_.split(G))_=join(shift());eval(_)
// =======================
</script>
</body>